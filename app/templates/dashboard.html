{% extends 'base.html' %}
{% block title %}Dashboard | Smart Budget Tracker{% endblock %}
{% block content %}
<h2 class="text-xl font-semibold mb-4">Add New Transaction</h2>
<form method="post" class="grid grid-cols-1 gap-4 mb-6">
    <input type="text" name="description" placeholder="Description" class="p-2 border rounded">
    <input type="number" step="0.01" name="amount" placeholder="Amount" class="p-2 border rounded">
    <input type="date" name="date" class="p-2 border rounded">
    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Add</button>
</form>

<h2 class="text-xl font-semibold mb-4">Transaction History</h2>
<table class="table-auto w-full text-left">
    <thead>
        <tr>
            <th class="px-4 py-2">Description</th>
            <th class="px-4 py-2">Amount</th>
            <th class="px-4 py-2">Date</th>
        </tr>
    </thead>
    <tbody>
        {% for t in transactions %}
        <tr class="bg-white border-t">
            <td class="px-4 py-2">{{ t[1] }}</td>
            <td class="px-4 py-2">${{ t[2] }}</td>
            <td class="px-4 py-2">{{ t[3] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h2 class="text-xl font-semibold mt-8 mb-4">Spending Overview</h2>
<canvas id="spendingChart" width="400" height="200"></canvas>
<script src="{{ url_for('static', filename='js/charts.js') }}"></script>
{% endblock %}